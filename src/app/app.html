<ion-header>
  <ion-navbar class="bgColor-darkBlue">
    <button ion-button menuToggle>
      <ion-icon name="menu" class="fontColor-white"></ion-icon>
    </button>
    <ion-avatar class="logoSize" item-start>
      <img src="assets/img/eSawitLogo.png">
    </ion-avatar>
    <div class="headerInfo">

      <ion-fab top right edge class="topZero rightZero">
        <button ion-fab mini (click)="headerButtonClick('Process')">
          <img class="headerImage" src="http://gurucul.com/wp-content/uploads/2015/01/default-user-icon-profile.png">
        </button>
        <ion-fab-list side="left">
          <button ion-fab class="bgColor-red"><ion-icon name="md-power"></ion-icon></button>
          <button ion-fab class="bgColor-green"><ion-icon name="md-settings"></ion-icon></button>
          <button ion-fab class="bgColor-purple" [class.menuHide]="translateToMalayClicked" (click)="translateToMalay()">BM</button>
          <button ion-fab class="bgColor-purple" [class.menuHide]="translateToEnglishClicked" (click)="translateToEnglish()">EN</button>
          <button ion-fab class="bgColor-yellow"><ion-icon name="md-help"></ion-icon></button>
        </ion-fab-list>
      </ion-fab>

      <ion-thumbnail class="floatRight" item-start>
        <img class="headerImage" src="http://gurucul.com/wp-content/uploads/2015/01/default-user-icon-profile.png">
      </ion-thumbnail>

      <ion-label class="headerLabel floatRight fontColor-grey" *ngIf="headerButtonClicked">
        System Account
      </ion-label>
      
    </div>
  </ion-navbar>
</ion-header>

<ion-menu [content]="content">
  <ion-header>
    <ion-toolbar class="bgColor-purple fontColor-white">
      <ion-title>{{"MENU" | translate}}</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content>


    <ion-list class="marginZero">
      <ion-row>
        <button ion-item menuClose *ngFor="let p of pages" [class.bgColor-darkBlue]="checkActivePage(p)" (click)="openPage(p)" class="bgColor-lightGrey menuButton">
          <ion-icon item-start [name]="p.icon"></ion-icon>
          {{p.title}}
        </button>
      </ion-row>
    </ion-list>
    
    <ion-list class="marginZero">
      <ion-row>
        <button ion-item class="bgColor-lightGrey menuButton" (click)="processPageClick('Process')">
          <ion-icon name="ios-arrow-forward" class="fontColor-grey" [class.arrowRotate]="processPageClicked" item-start></ion-icon>
          {{"SETTING" | translate}}
        </button>
      </ion-row>
      <ion-row *ngIf="processPageClicked">
        <button ion-item menuClose *ngFor="let p of processPages" [class.bgColor-darkBlue]="checkActivePage(p)" (click)="openPage(p)" class="bgColor-white menuButton">
          <ion-icon item-start [name]="p.icon"></ion-icon>
          {{p.title}}
        </button>
      </ion-row>
    </ion-list>

    <ion-list class="marginZero">
      <ion-row>
        <button ion-item class="bgColor-lightGrey menuButton" (click)="reportingPageClick('Reporting')">
          <ion-icon name="ios-arrow-forward" class="fontColor-grey" [class.arrowRotate]="reportingPageClicked" item-start></ion-icon>
          {{"REPORTING" | translate}}
        </button>
      </ion-row>
      <ion-row *ngIf="reportingPageClicked">
        <button ion-item menuClose *ngFor="let p of reportingPages" [class.bgColor-darkBlue]="checkActivePage(p)" (click)="openPage(p)" class="bgColor-white menuButton">
          <ion-icon item-start [name]="p.icon"></ion-icon>
          {{p.title}}
        </button>
      </ion-row>
    </ion-list>

  </ion-content>

</ion-menu>

<!-- Disable swipe-to-go-back because it's poor UX to combine STGB with side menus -->
<ion-nav [root]="rootPage" #content swipeBackEnabled="false"></ion-nav>